(()=>{"use strict";$((function(){!function(e){let t=new Image;t.onload=t.onerror=function(){1==(2==t.height)?$("body").addClass("webp"):$("body").addClass("no-webp")},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};function t(){e.any()||window.innerWidth<992?$("body").removeClass("_pc").addClass("_touch"):$("body").removeClass("_touch").addClass("_pc")}t(),$(window).on("resize",(()=>t())),$(document).on("click",(function(e){let t=$(e.target);if(t.hasClass("icon-menu")&&($(".header").toggleClass("open-menu"),$("body").toggleClass("lock-menu")),t.is(".menu")&&($(".header").removeClass("open-menu"),$("body").removeClass("lock-menu")),t.is(".menu__link")){let i=t.next();i.length>0&&e.preventDefault(),t.hasClass("active")?(t.removeClass("active"),i.removeClass("active")):($(".menu__link").removeClass("active"),$(".submenu").removeClass("active"),t.addClass("active"),i.addClass("active"))}t.is(".clients__tabs-btn")&&(t.addClass("active").siblings().removeClass("active"),$(".clients__tabs-content").eq(t.index()).addClass("active").siblings().removeClass("active"),$(".clients__controls").eq(t.index()).addClass("active").siblings().removeClass("active"),$(".clients-slider.slick-initialized").slick("setPosition"))})),$("[data-fancybox]").fancybox({touch:!1});const i=$(".catalog__filters-row");i.length>0&&i.each((function(){const e=$(this).find(".catalog__filters-range")[0],t=$(this).find(".catalog__filters-input_start"),i=$(this).find(".catalog__filters-input_end"),s=[t,i];function n(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function a(e){return parseInt(e.replace(/\s/g,""))}function r(e){const t=parseInt(e.attr("maxlength")),i=t-Math.floor((t-1)/4);e.attr("maxlength",i)}r(t),r(i),t.val(n(t.val())),i.val(n(i.val())),noUiSlider.create(e,{start:[a(t.val()),a(i.val())],connect:!0,range:{min:[parseInt(t.attr("min"))],max:[parseInt(i.attr("max"))||1e6]}}),e.noUiSlider.on("update",(function(e,t){s[t].val(n(Math.round(e[t])))})),e.noUiSlider.on("start",(function(e,t){s[t].addClass("active")})),$.each(s,(function(t,i){$(i).on("change",(function(i){((t,i)=>{let s=[null,null];s[t]=a(i),e.noUiSlider.set(s)})(t,$(this).val())}))})),$.each(s,(function(e,t){$(t).on("input",(function(e){let t=$(this).val();t=t.replace(/[^\d]/g,""),$(this).val(n(t)),$(this).addClass("active")}))}))})),$(".about__slider").length>0&&$(".about__slider").slick({infinite:!0,variableWidth:!0,arrows:!1,autoplay:!0,responsive:[{breakpoint:576,settings:{variableWidth:!1,slidesToShow:1}}]}),$(".clients__photos").length>0&&$(".clients__photos").slick({infinite:!1,slidesToShow:2.75,prevArrow:".clients__photos-prev",nextArrow:".clients__photos-next",rtl:!0,responsive:[{breakpoint:992,settings:{variableWidth:!1,slidesToShow:2}},{breakpoint:768,settings:{variableWidth:!1,slidesToShow:1}}]}),$(".clients__videos").length>0&&$(".clients__videos").slick({infinite:!1,variableWidth:!0,prevArrow:".clients__videos-prev",nextArrow:".clients__videos-next",rtl:!0,responsive:[{breakpoint:1400,settings:{variableWidth:!1,slidesToShow:1.5}},{breakpoint:768,settings:{variableWidth:!1,slidesToShow:1}}]});function s(){const e=$(".header").outerHeight();return $("body").css("--header-height",e+"px"),e}$(".projects__slider").length>0&&new class{constructor(e,t={}){this.slider=$(e),this.slides=this.slider.find(t.slideSelector),this.prevBtn=$(t.prevBtn),this.nextBtn=$(t.nextBtn),this.currentIndex=t.currentIndex||0,this.slideMargin=t.slideMargin||0,this.slideWidth=this.calculateSlideWidth(),this.onSlideChangeCallback=t.onSlideChange||(()=>{}),this.init()}calculateSlideWidth(){const e=$(window).width();switch(!0){case e<576:return e-2*this.slideMargin;case e<768:return 240;case e<992:return 350;case e<1200:return 400;default:return 500}}updateSlides(){this.slides.removeClass("active"),this.slides.eq(this.currentIndex).addClass("active");const e=-this.currentIndex*(this.slideWidth+this.slideMargin);this.slider.css("transform",`translate3d(${e}px, 0, 0)`),this.slider.css("margin-left",`-${this.slideMargin/2}px`),this.onSlideChangeCallback(this)}init(){this.slides.css("margin",`0 ${this.slideMargin/2}px`),this.nextBtn.on("click",(()=>this.nextSlide())),this.prevBtn.on("click",(()=>this.prevSlide())),$(window).on("resize",(()=>{this.slideWidth=this.calculateSlideWidth(),this.updateSlides()})),this.slides.on("click",(e=>this.slideToClickedSlide(e))),this.updateSlides()}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.slides.length,this.updateSlides()}prevSlide(){this.currentIndex=(this.currentIndex-1+this.slides.length)%this.slides.length,this.updateSlides()}slideToClickedSlide(e){const t=this.slides.index($(e.currentTarget));t!==this.currentIndex&&(this.currentIndex=t,this.updateSlides())}onSlideChange(){return this.currentIndex}}(".projects__slider",{slideSelector:".projects__slide",prevBtn:".projects__prev",nextBtn:".projects__next",currentIndex:1,slideMargin:20,onSlideChange:e=>{$(".projects__info").removeClass("active"),$(".projects__info").eq(e.currentIndex).addClass("active")}}),s(),window.addEventListener("resize",(()=>s())),$(window).on("scroll",(function(){$(this).scrollTop()>s()?$("header").addClass("scroll"):$("header").removeClass("scroll")}))}))})();