(()=>{"use strict";$((function(){!function(e){let s=new Image;s.onload=s.onerror=function(){1==(2==s.height)?$("body").addClass("webp"):$("body").addClass("no-webp")},s.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};function s(){e.any()||window.innerWidth<992?$("body").removeClass("_pc").addClass("_touch"):$("body").removeClass("_touch").addClass("_pc")}function i(e="next"){let s=$(".quiz__progressbar-current").text(),i=$(".quiz__progressbar-total").text(),t=$(".quiz__progressbar-progress"),a=$(".quiz__controls-prev"),n=$(".quiz__controls-next"),r=$(".quiz__controls-submit");"next"==e&&(s++,$(".quiz__progressbar-current").text(s),$(".quiz__block.active").removeClass("active").next().addClass("active"),a.removeClass("disabled"),s==i&&(r.removeClass("hidden"),n.addClass("hidden"))),"prev"==e&&(s--,$(".quiz__progressbar-current").text(s),$(".quiz__block.active").removeClass("active").prev().addClass("active"),n.removeClass("hidden"),r.addClass("hidden"),1===s&&a.addClass("disabled")),t.css("--progress",s/i*100+"%")}s(),$(window).on("resize",(()=>s())),$(document).on("click",(function(e){let s=$(e.target);if(s.hasClass("icon-menu")&&($(".header").toggleClass("open-menu"),$("body").toggleClass("lock-menu")),s.is(".menu")&&($(".header").removeClass("open-menu"),$("body").removeClass("lock-menu")),s.is(".header__callback-btn")&&(s.toggleClass("active"),$(".header__body").toggleClass("open-contacts"),$(".header__callback-body").slideToggle()),s.is(".menu__link")&&$("body").hasClass("_touch")){let i=s.next();i.length>0&&e.preventDefault(),s.hasClass("active")?(s.removeClass("active"),i.removeClass("active")):($(".menu__link").removeClass("active"),$(".submenu").removeClass("active"),s.addClass("active"),i.addClass("active"))}if(s.is(".examples__btn")&&(s.addClass("active").siblings().removeClass("active"),$(".examples__image").eq(s.index()).addClass("active fade").siblings().removeClass("active fade")),s.is(".visual__info-btn")){let e=s.parent(".visual__info-action"),i=s.next(".visual__info-list");s.hasClass("active")?(e.removeClass("active"),s.removeClass("active"),i.slideUp()):($(".visual__info-action").removeClass("active"),$(".visual__info-btn").removeClass("active"),$(".visual__info-list").slideUp(),e.addClass("active"),s.addClass("active"),i.slideDown())}if(s.is("[data-tab]")){let e=s.data("tab"),i=$(`[name="config"][value="${e}"]`);i.trigger("change"),i.trigger("click")}if(s.is("[data-option]")){let e=s.data("option"),i=$(`[value="${e}"]`);i.trigger("change"),i.trigger("click"),$.fancybox.getInstance().close()}s.is(".quiz__controls-next")&&i(),s.is(".quiz__controls-prev")&&i("prev"),s.is(".quiz__controls-submit")&&($(".quiz__main").addClass("hidden"),$(".quiz__form").removeClass("hidden"))})),$('[name="config"]').length>0&&$('[name="config"]').on("change",(e=>{let s=$(e.target).val();$(`.order-more__content#${s}`).addClass("active").siblings().removeClass("active")})),$(".materials__item").length>0&&($(".materials__item").on("mouseenter",(function(e){$(this).addClass("active"),$(".materials__point").eq($(this).index()).addClass("active")})),$(".materials__item").on("mouseleave",(function(e){$(".materials__item").removeClass("active"),$(".materials__point").removeClass("active")})),$(".materials__point").on("mouseenter",(function(e){$(this).addClass("active"),$(".materials__item").eq($(this).index()).addClass("active")})),$(".materials__point").on("mouseleave",(function(e){$(".materials__item").removeClass("active"),$(".materials__point").removeClass("active")}))),$("[data-fancybox]").fancybox({touch:!1});function t(){const e=$(".header").outerHeight();return $("body").css("--header-height",e+"px"),e}$(".projects__slider").length>0&&new class{constructor(e,s={}){this.slider=$(e),this.slides=this.slider.find(s.slideSelector),this.prevBtn=$(s.prevBtn),this.nextBtn=$(s.nextBtn),this.currentIndex=s.currentIndex||0,this.slideMargin=s.slideMargin||0,this.slideWidth=this.calculateSlideWidth(),this.onSlideChangeCallback=s.onSlideChange||(()=>{}),this.init()}calculateSlideWidth(){const e=$(window).width();return e<768?300:e<1024?400:500}updateSlides(){this.slides.removeClass("active"),this.slides.eq(this.currentIndex).addClass("active");const e=-this.currentIndex*(this.slideWidth+this.slideMargin);this.slider.css("transform",`translate3d(${e}px, 0, 0)`),this.slider.css("margin-left",`-${this.slideMargin/2}px`),this.onSlideChangeCallback(this)}init(){this.slides.css("margin",`0 ${this.slideMargin/2}px`),this.slides.css("margin",`0 ${this.slideMargin/2}px`),this.nextBtn.on("click",(()=>this.nextSlide())),this.prevBtn.on("click",(()=>this.prevSlide())),$(window).on("resize",(()=>{this.slideWidth=this.calculateSlideWidth(),this.updateSlides()})),this.slides.on("click",(e=>this.slideToClickedSlide(e))),this.updateSlides()}nextSlide(){this.currentIndex=(this.currentIndex+1)%this.slides.length,this.updateSlides()}prevSlide(){this.currentIndex=(this.currentIndex-1+this.slides.length)%this.slides.length,this.updateSlides()}slideToClickedSlide(e){const s=this.slides.index($(e.currentTarget));s!==this.currentIndex&&(this.currentIndex=s,this.updateSlides())}onSlideChange(){return this.currentIndex}}(".projects__slider",{slideSelector:".projects__slide",prevBtn:".projects__prev",nextBtn:".projects__next",currentIndex:1,slideMargin:20,onSlideChange:e=>{$(".projects__info").hide(),$(".projects__info").eq(e.currentIndex).show()}}),t(),window.addEventListener("resize",(()=>t())),$(window).on("scroll",(function(){$(this).scrollTop()>t()?$("header").addClass("scroll"):$("header").removeClass("scroll")})),$("#map").length>0&&ymaps.ready((function(){var e=new ymaps.Map("map",{center:[55.651344,37.618423],zoom:10,controls:[]});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("zoomControl"),e.controls.remove("rulerControl")}))}))})();